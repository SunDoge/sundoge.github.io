---
title: ä½¿ç”¨Hexoæ­å»ºä¸ªäººåšå®¢
date: 2019-09-14 15:22:24
tags: 
  - Hexo
  - Node.js
---

## å®‰è£…Node.jså’ŒHexo

å‚ç…§Hexoå®˜ç½‘æ•™ç¨‹ [https://hexo.io/docs/#Install-Node-js](https://hexo.io/docs/#Install-Node-js)

```bash
wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash
nvm install stable
npm install -g hexo-cli
```

## åˆ›å»ºä½ çš„åšå®¢

å‚ç…§ [https://hexo.io/docs/setup](https://hexo.io/docs/setup)

```bash
hexo init sundoge.github.io
```

æˆ‘ä½¿ç”¨çš„`hexo-cli` ç‰ˆæœ¬ä¸º`2.0.0` ï¼Œä¼šè‡ªåŠ¨æ‹‰å–é»˜è®¤ä¸»é¢˜`landscape` ã€‚åé¢å°†å¼•å…¥[hexo-theme-next](https://github.com/theme-next/hexo-theme-next) ã€‚

## ä½¿ç”¨Gitç®¡ç†ä½ çš„åšå®¢

Hexoçš„è®¾è®¡æœ‰ä¸ªçŸ›ç›¾çš„åœ°æ–¹ï¼Œthemeæœ‰è‡ªå·±çš„configæ–‡ä»¶ï¼Œè€Œä¸”ä¸ä¼šmergeåˆ°é¡¶å±‚çš„configï¼Œå¯¼è‡´ä½ å¾ˆéš¾ç”¨gitç®¡ç†ä½ çš„themeã€‚å¦‚æœä½ æŒ‰ç…§theme-nextçš„å®˜æ–¹æ–‡æ¡£installï¼Œå°±ç›¸å½“äºåœ¨gitä»“åº“é‡Œé¢åˆ›å»ºå¦gitä»“åº“ï¼Œgitæ˜¯æ²¡æ³•ç®¡ç†åˆ°ä»“åº“é‡Œé¢çš„ä»“åº“çš„ã€‚ä½†æ˜¯å¦‚æœå•çº¯ä½¿ç”¨git submoduleï¼Œä¿®æ”¹themeé‡Œé¢çš„_config.ymlä¹Ÿæ˜¯æ²¡æ³•ç”¨gitç®¡ç†çš„ã€‚æ‰€ä»¥ä¸€ä¸ªæŠ˜ä¸­çš„æ–¹æ¡ˆæ˜¯ï¼Œå…ˆforkä¸€ä»½ä½ è¦çš„ä¸»é¢˜ï¼Œæ¯”å¦‚[SunDoge/hexo-theme-next](https://github.com/SunDoge/hexo-theme-next) ï¼Œç„¶åadd submodule

```bash
git submodule add git@github.com:SunDoge/hexo-theme-next.git themes/next
```

è¿™æ ·themeå’Œåšå®¢éƒ½èƒ½è¢«ç®¡ç†åˆ°ã€‚å¦‚æœéœ€è¦æ›´æ–°themeï¼Œåªéœ€è¦è¿è¡Œ

> [https://stackoverflow.com/questions/5828324/update-git-submodule-to-latest-commit-on-origin](https://stackoverflow.com/questions/5828324/update-git-submodule-to-latest-commit-on-origin)

```bash
git submodule foreach git pull origin master
```

è¿™ä¸ªå‘½ä»¤ä¼šæ›´æ–°æ‰€æœ‰çš„submoduleã€‚

## ä½¿ç”¨theme-next

ä¿®æ”¹é¡¶å±‚`_config.yml`

```yaml
# Extensions
## Plugins: https://hexo.io/plugins/
## Themes: https://hexo.io/themes/
# theme: landscape
theme: next
```

ä¿®æ”¹themeé‡Œé¢çš„_config.yml

>  themes/next/_config.yml

```yaml
# Schemes
# scheme: Muse
scheme: Mist
#scheme: Pisces
#scheme: Gemini
```

###  å¼€å¯mathæ”¯æŒ

> [https://github.com/theme-next/hexo-theme-next/blob/master/docs/MATH.md](https://github.com/theme-next/hexo-theme-next/blob/master/docs/MATH.md)

```yaml
# Math Formulas Render Support
math:
  enable: true

  # Default (true) will load mathjax / katex script on demand.
  # That is it only render those page which has `mathjax: true` in Front-matter.
  # If you set it to false, it will load mathjax / katex srcipt EVERY PAGE.
  per_page: true

  # hexo-renderer-pandoc (or hexo-renderer-kramed) required for full MathJax support.
  mathjax:
    enable: true
    # See: https://mhchem.github.io/MathJax-mhchem/
    mhchem: false

  # hexo-renderer-markdown-it-plus (or hexo-renderer-markdown-it with markdown-it-katex plugin) required for full Katex support.
  katex:
    enable: false
    # See: https://github.com/KaTeX/KaTeX/tree/master/contrib/copy-tex
    copy_tex: false
```

æˆ‘æš‚æ—¶ä½¿ç”¨mathjaxï¼Œå¦‚æœå®åœ¨å¤ªæ…¢ï¼Œåé¢å†æ¢æˆkatexã€‚è¿™é‡Œè¿˜éœ€è¦æ›¿æ¢é»˜è®¤çš„renderã€‚

```shell
npm un hexo-renderer-marked --save
npm i hexo-renderer-pandoc --save # or hexo-renderer-kramed
```

è¿™é‡Œä¸ç”¨kramedçš„åŸå› æ˜¯å®ƒæœ€åä¸€æ¬¡æ›´æ–°åœ¨2017å¹´ã€‚è¿˜éœ€è¦å®‰è£…pandoc

> [https://github.com/jgm/pandoc/blob/master/INSTALL.md](https://github.com/jgm/pandoc/blob/master/INSTALL.md)

å®‰è£…pandocè¿™ç‚¹è®©æˆ‘å¾ˆä¸æ»¡æ„ï¼Œä½¿ç”¨Hexoå·²ç»è¦å®‰è£…å¾ˆå¤šä¸œè¥¿äº†ï¼ˆnode_modulesï¼‰ï¼Œä¸ºäº†mathjaxè¿˜è¦æ•´ä¸ªpandocã€‚

## éƒ¨ç½²

> [https://hexo.io/docs/deployment.html#Git](https://hexo.io/docs/deployment.html#Git)

```bash
npm install hexo-deployer-git --save
```

```yaml
# Deployment
## Docs: https://hexo.io/docs/deployment.html
deploy:
  - type: git
    repo: git@github.com:SunDoge/sundoge.github.io.git
    branch: published
```

ç„¶ååœ¨githubä¸Šæ–°å»ºä¸€ä¸ªbranchåä¸ºpublished

> [https://help.github.com/en/articles/creating-and-deleting-branches-within-your-repository](https://help.github.com/en/articles/creating-and-deleting-branches-within-your-repository)

å¹¶æŠŠå®ƒè®¾ä¸ºdefault branchã€‚ç„¶åæ‰§è¡Œ

```bash
hexo clean && hexo deploy
```

ç¼–è¯‘å¥½çš„æ–‡ä»¶ä¼šæ¨é€çš„publishedåˆ†æ”¯ã€‚

## ä¸ºä»€ä¹ˆä½¿ç”¨Hexo

Hugoè™½ç„¶æ€§èƒ½å¥½ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†ä¸»é¢˜å¹´ä¹…å¤±ä¿®ï¼Œè€Œä¸”è´¨é‡éƒ½ä¸é«˜ï¼Œä»jekyllå’Œhexoç§»æ¤çš„ä¸»é¢˜ä¹Ÿå¤§å¤šæœ‰é—®é¢˜ï¼Œç¼ºå°‘åŸæœ‰çš„éƒ¨åˆ†åŠŸèƒ½ã€‚æœ€åæ²¡åŠæ³•ï¼Œè¿˜æ˜¯è¦ç”¨å‰ç«¯å†™çš„å·¥å…·ã€‚

ä¸ºäº†æ–¹ä¾¿ä»¥åçš„å†™ä½œï¼Œæˆ‘è®¡åˆ’ä½¿ç”¨Rustå¼€å‘ä¸€ä¸ªhexo-cliçš„å­é›†ï¼Œåªæ”¯æŒtheme-nextçš„æ­£ç¡®ç¼–è¯‘ğŸ•ŠğŸ•ŠğŸ•Šâ€‹ã€‚







